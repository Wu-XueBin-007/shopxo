<view><view class="content"><block wx:if="{{(home_site_logo_square||null)!=null}}"><block><block wx:if="{{user!=null}}"><block><block wx:if="{{current_opt_form=='bind_verify'}}"><view class="form-content"><form data-event-opts="{{[['submit',[['formBind',['$event']]]]]}}" bindsubmit="__e"><view class="tc"><image class="icon circle auto dis-block margin-bottom-xxl br" src="{{(user.avatar||null)==null?'/static/images/default-user.png':user.avatar}}" mode="widthFix"></image><block wx:if="{{(user.nickname||null)!=null}}"><view class="cr-base">{{user.nickname}}</view></block></view><view class="margin-top-xxxl padding-top-xxxl"><input class="form-item margin-vertical-main wh-auto" type="number" placeholder="输入手机号码" maxlength="11" name="mobile" data-event-opts="{{[['input',[['form_input_mobile_event',['$event']]]]]}}" bindinput="__e"/><view class="code pr margin-vertical-main"><input type="number" placeholder="验证码" name="verify" maxlength="4"/><button class="{{['verify-submit pa round br text-size-sm cr-base '+(verify_disabled?'sub-disabled':'')]}}" type="default" hover-class="none" size="mini" loading="{{verify_loading}}" disabled="{{verify_disabled}}" data-event-opts="{{[['tap',[['verify_send_event',['$event']]]]]}}" bindtap="__e">{{verify_submit_text}}</button></view><button class="bg-main br-main cr-white round text-size margin-top-xxxl" form-type="submit" type="default" hover-class="none" loading="{{form_submit_loading}}" disabled="{{form_submit_loading}}">确认绑定</button></view><view class="margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-xxxl tc"><text class="cr-blue" data-value="bind" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">返回上一页</text></view></form></view></block><block wx:else><block><view class="form-content"><view class="tc"><image class="icon circle auto dis-block margin-bottom-xxl br" src="{{(user.avatar||null)==null?'/static/images/default-user.png':user.avatar}}" mode="widthFix"></image><block wx:if="{{(user.nickname||null)!=null}}"><view class="cr-base">{{user.nickname}}</view></block></view><block wx:if="{{current_opt_form=='bind'}}"><block><view class="margin-top-xxxl padding-top-xxxl"><button class="bg-main-pair br-main-pair cr-white round text-size" type="warn" hover-class="none" data-value="bind_verify" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">手机验证码</button><block wx:if="{{common_user_is_onekey_bind_mobile==1}}"><button class="margin-top-xxl bg-main br-main cr-white round text-size" type="default" hover-class="none" open-type="getPhoneNumber" data-event-opts="{{[['getphonenumber',[['confirm_phone_number_event',['$event']]]]]}}" bindgetphonenumber="__e">获取手机号码一键登录</button></block></view><block wx:if="{{(user||null)==null||(user.id||null)==null}}"><view class="margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main"><block wx:if="{{(home_user_login_type||null)!=null&&home_user_login_type.length>0}}"><view class="margin-bottom-xxxl tc"><text class="cr-main round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="login" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">绑定已有账号</text></view></block><block wx:if="{{(home_user_reg_type||null)!=null&&home_user_reg_type.length>0}}"><view class="margin-bottom-xl tc"><text class="cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="reg" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">注册账号并绑定</text></view></block></view></block></block></block><block wx:else><view class="tc margin-top-xxxl"><view class="cr-green">已成功登录、请点击进入首页</view><navigator class="dis-inline-block auto bg-main br-main cr-white round text-size-sm padding-left-xxxl padding-right-xxxl padding-top-xs padding-bottom-xs margin-top-xl" open-type="switchTab" url="/pages/index/index">进入首页</navigator></view></block></view></block></block></block></block><block wx:if="{{current_opt_form!='bind'&&current_opt_form!='bind_verify'&&current_opt_form!='success'}}"><image class="icon circle auto dis-block br" src="{{home_site_logo_square}}" mode="widthFix"></image></block><block wx:if="{{current_opt_form!='success'}}"><block><block wx:if="{{(error_msg||null)!=null}}"><view class="margin-top-xxxl margin-bottom-lg tc padding-horizontal-main"><icon class="va-m" type="warn" size="16" color="#f00"></icon><text class="cr-red va-m margin-left-sm">{{error_msg}}</text></view></block><block wx:if="{{(plugins_thirdpartylogin_user||null)!=null&&(plugins_thirdpartylogin_user.is_force_bind_user||0)==1}}"><view class="plugins-thirdpartylogin-bind tc padding-horizontal-main margin-top-xxxl"><image class="round br va-m" src="{{plugins_thirdpartylogin_user.avatar}}" mode="aspectFit"></image><text class="cr-blue margin-left-sm">{{plugins_thirdpartylogin_user.nickname}}</text><text class="va-m margin-left-lg cr-grey">{{"登录帐号将自动绑定"+plugins_thirdpartylogin_user.platform_name+"用户"}}</text><button class="br-red cr-red bg-white round va-m text-size-xs margin-left-lg padding-top-xs padding-bottom-xs" type="default" size="mini" data-event-opts="{{[['tap',[['plugins_thirdpartylogin_cancel_event',['$event']]]]]}}" bindtap="__e">取消</button></view></block></block></block><block wx:if="{{current_opt_form=='login'}}"><view class="form-content"><form data-event-opts="{{[['submit',[['formLogin',['$event']]]]]}}" bindsubmit="__e"><block wx:if="{{current_opt_type=='login_username'}}"><block><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入用户名/手机/邮箱" maxlength="60" name="accounts"/><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入登录密码" minlength="6" maxlength="18" name="pwd" password="true"/><block wx:if="{{home_user_login_img_verify_state==1}}"><view class="verify pr margin-vertical-main"><input type="text" placeholder="验证码" name="verify" maxlength="4" data-event-opts="{{[['input',[['form_input_image_verify_event',['$event']]]]]}}" value="{{form_input_image_verify_value}}" bindinput="__e"/><block wx:if="{{(verify_image_url||null)!=null}}"><image class="verify-image pa" src="{{verify_image_url}}" mode="aspectFit" data-type="user_login" data-event-opts="{{[['tap',[['image_verify_event',['$event']]]]]}}" bindtap="__e"></image></block></view></block></block></block><block wx:if="{{current_opt_type=='login_sms'}}"><block><input class="form-item margin-vertical-main wh-auto" type="number" placeholder="输入手机号码" maxlength="11" name="accounts" data-event-opts="{{[['input',[['form_input_mobile_event',['$event']]]]]}}" bindinput="__e"/><view class="code pr margin-vertical-main"><input type="number" placeholder="验证码" name="verify" maxlength="4"/><button class="{{['verify-submit pa round br text-size-sm cr-base '+(verify_disabled?'sub-disabled':'')]}}" type="default" hover-class="none" size="mini" loading="{{verify_loading}}" disabled="{{verify_disabled}}" data-event-opts="{{[['tap',[['verify_send_event',['$event']]]]]}}" bindtap="__e">{{verify_submit_text}}</button></view></block></block><block wx:if="{{current_opt_type=='login_email'}}"><block><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入电子邮箱" maxlength="60" name="accounts" data-event-opts="{{[['input',[['form_input_email_event',['$event']]]]]}}" bindinput="__e"/><view class="code pr margin-vertical-main"><input type="number" placeholder="验证码" name="verify" maxlength="4"/><button class="{{['verify-submit pa round br text-size-sm cr-base '+(verify_disabled?'sub-disabled':'')]}}" type="default" hover-class="none" size="mini" loading="{{verify_loading}}" disabled="{{verify_disabled}}" data-event-opts="{{[['tap',[['verify_send_event',['$event']]]]]}}" bindtap="__e">{{verify_submit_text}}</button></view></block></block><view class="margin-top-xxxl cr-gray"><view data-event-opts="{{[['tap',[['agreement_change',['$event']]]]]}}" class="dis-inline-block va-m" bindtap="__e"><radio-group class="dis-inline-block va-m" style="transform:scale(0.6);"><label><radio value="agreement" color="#20a53a" checked="{{agreement_status}}"></radio></label></radio-group></view><view class="dis-inline-block va-m">阅读并同意 《<text class="cr-main" data-value="userregister" data-event-opts="{{[['tap',[['agreement_event',['$event']]]]]}}" bindtap="__e">服务协议</text>》 与 《<text class="cr-main" data-value="userprivacy" data-event-opts="{{[['tap',[['agreement_event',['$event']]]]]}}" bindtap="__e">隐私政策</text>》</view></view><button class="bg-main br-main cr-white round text-size margin-top-xxxl" form-type="submit" type="default" hover-class="none" loading="{{form_submit_loading}}" disabled="{{form_submit_loading}}">确认登录</button><view class="margin-top-xxl oh"><text class="cr-gray fr" data-value="forget" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">找回密码</text></view><view class="margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main"><view class="margin-bottom-xxxl tc"><block wx:if="{{(user||null)==null}}"><text class="cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="auth" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">使用授权自动登录</text></block><block wx:else><text class="cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="bind" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">返回上一页</text></block></view><block wx:if="{{(home_user_reg_type||null)!=null&&home_user_reg_type.length>0}}"><view class="margin-bottom-xxxl tc"><text class="cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="reg" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">还没账号？立即注册</text></view></block><block wx:if="{{(home_user_login_type||null)!=null&&home_user_login_type.length>0}}"><view class="opt-type-list margin-bottom-xl tc"><block wx:if="{{$root.g0!=-1}}"><text class="cr-blue" data-value="login_username" data-event-opts="{{[['tap',[['opt_type_event',['$event']]]]]}}" bindtap="__e">账号密码</text></block><block wx:if="{{$root.g1!=-1}}"><text class="cr-blue" data-value="login_sms" data-event-opts="{{[['tap',[['opt_type_event',['$event']]]]]}}" bindtap="__e">短信验证码</text></block><block wx:if="{{$root.g2!=-1}}"><text class="cr-blue" data-value="login_email" data-event-opts="{{[['tap',[['opt_type_event',['$event']]]]]}}" bindtap="__e">邮箱验证码</text></block></view></block></view></form></view></block><block wx:else><block wx:if="{{current_opt_form=='reg'}}"><view class="form-content"><form data-event-opts="{{[['submit',[['formReg',['$event']]]]]}}" bindsubmit="__e"><block wx:if="{{current_opt_type=='reg_username'}}"><block><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入用户名" maxlength="60" name="accounts"/><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入登录密码" minlength="6" maxlength="18" name="pwd" password="true"/><block wx:if="{{home_user_register_img_verify_state==1}}"><view class="verify pr margin-vertical-main"><input type="text" placeholder="验证码" name="verify" maxlength="4" data-event-opts="{{[['input',[['form_input_image_verify_event',['$event']]]]]}}" value="{{form_input_image_verify_value}}" bindinput="__e"/><block wx:if="{{(verify_image_url||null)!=null}}"><image class="verify-image pa" src="{{verify_image_url}}" mode="aspectFit" data-type="user_reg" data-event-opts="{{[['tap',[['image_verify_event',['$event']]]]]}}" bindtap="__e"></image></block></view></block></block></block><block wx:if="{{current_opt_type=='reg_sms'}}"><block><input class="form-item margin-vertical-main wh-auto" type="number" placeholder="输入手机号码" maxlength="11" name="accounts" data-event-opts="{{[['input',[['form_input_mobile_event',['$event']]]]]}}" bindinput="__e"/><view class="code pr margin-vertical-main"><input type="number" placeholder="验证码" name="verify" maxlength="4"/><button class="{{['verify-submit pa round br text-size-sm cr-base '+(verify_disabled?'sub-disabled':'')]}}" type="default" hover-class="none" size="mini" loading="{{verify_loading}}" disabled="{{verify_disabled}}" data-event-opts="{{[['tap',[['verify_send_event',['$event']]]]]}}" bindtap="__e">{{verify_submit_text}}</button></view><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入登录密码" minlength="6" maxlength="18" name="pwd" password="true"/></block></block><block wx:if="{{current_opt_type=='reg_email'}}"><block><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入电子邮箱" maxlength="60" name="accounts" data-event-opts="{{[['input',[['form_input_email_event',['$event']]]]]}}" bindinput="__e"/><view class="code pr margin-vertical-main"><input type="number" placeholder="验证码" name="verify" maxlength="4"/><button class="{{['verify-submit pa round br text-size-sm cr-base '+(verify_disabled?'sub-disabled':'')]}}" type="default" hover-class="none" size="mini" loading="{{verify_loading}}" disabled="{{verify_disabled}}" data-event-opts="{{[['tap',[['verify_send_event',['$event']]]]]}}" bindtap="__e">{{verify_submit_text}}</button></view><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入登录密码" minlength="6" maxlength="18" name="pwd" password="true"/></block></block><view class="margin-top-xxxl cr-gray"><view data-event-opts="{{[['tap',[['agreement_change',['$event']]]]]}}" class="dis-inline-block va-m" bindtap="__e"><radio-group class="dis-inline-block va-m" style="transform:scale(0.6);"><label><radio value="agreement" color="#20a53a" checked="{{agreement_status}}"></radio></label></radio-group></view><view class="dis-inline-block va-m">阅读并同意 《<text class="cr-main" data-value="userregister" data-event-opts="{{[['tap',[['agreement_event',['$event']]]]]}}" bindtap="__e">服务协议</text>》 与 《<text class="cr-main" data-value="userprivacy" data-event-opts="{{[['tap',[['agreement_event',['$event']]]]]}}" bindtap="__e">隐私政策</text>》</view></view><button class="bg-main br-main cr-white round text-size margin-top-xxxl" form-type="submit" type="default" hover-class="none" loading="{{form_submit_loading}}" disabled="{{form_submit_loading}}">确认注册</button><view class="margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main"><view class="margin-bottom-xxxl tc"><block wx:if="{{(user||null)==null}}"><text class="cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="auth" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">使用授权自动登录</text></block><block wx:else><text class="cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="bind" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">返回上一页</text></block></view><block wx:if="{{(home_user_login_type||null)!=null&&home_user_login_type.length>0}}"><view class="margin-bottom-xxxl tc"><text class="cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="login" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">已有账号？立即登录</text></view></block><block wx:if="{{(home_user_reg_type||null)!=null&&home_user_reg_type.length>0}}"><view class="opt-type-list margin-bottom-xl tc"><block wx:if="{{$root.g3!=-1}}"><text class="cr-blue" data-value="reg_username" data-event-opts="{{[['tap',[['opt_type_event',['$event']]]]]}}" bindtap="__e">账号密码</text></block><block wx:if="{{$root.g4!=-1}}"><text class="cr-blue" data-value="reg_sms" data-event-opts="{{[['tap',[['opt_type_event',['$event']]]]]}}" bindtap="__e">短信验证码</text></block><block wx:if="{{$root.g5!=-1}}"><text class="cr-blue" data-value="reg_email" data-event-opts="{{[['tap',[['opt_type_event',['$event']]]]]}}" bindtap="__e">邮箱验证码</text></block></view></block></view></form></view></block><block wx:else><block wx:if="{{current_opt_form=='forget'}}"><view class="form-content"><form data-event-opts="{{[['submit',[['formForget',['$event']]]]]}}" bindsubmit="__e"><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="输入手机/邮箱" maxlength="60" name="accounts" data-event-opts="{{[['input',[['form_input_accounts_event',['$event']]]]]}}" bindinput="__e"/><view class="code pr margin-vertical-main"><input type="number" placeholder="验证码" name="verify" maxlength="4"/><button class="{{['verify-submit pa round br text-size-sm cr-base '+(verify_disabled?'sub-disabled':'')]}}" type="default" hover-class="none" size="mini" loading="{{verify_loading}}" disabled="{{verify_disabled}}" data-event-opts="{{[['tap',[['verify_send_event',['$event']]]]]}}" bindtap="__e">{{verify_submit_text}}</button></view><input class="form-item margin-vertical-main wh-auto" type="text" placeholder="设置登录密码" minlength="6" maxlength="18" name="pwd" password="true"/><button class="bg-main br-main cr-white round text-size margin-top-xxxl" form-type="submit" type="default" hover-class="none" loading="{{form_submit_loading}}" disabled="{{form_submit_loading}}">确认提交</button><view class="margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main"><view class="margin-bottom-xxxl tc"><block wx:if="{{(user||null)==null}}"><text class="cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="auth" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">使用授权自动登录</text></block><block wx:else><text class="cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="bind" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">返回上一页</text></block></view><block wx:if="{{(home_user_login_type||null)!=null&&home_user_login_type.length>0}}"><view class="margin-bottom-xxxl tc"><text class="cr-main round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="login" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">已有账号？立即登录</text></view></block><block wx:if="{{(home_user_reg_type||null)!=null&&home_user_reg_type.length>0}}"><view class="margin-bottom-xl tc"><text class="cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="reg" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">还没账号？立即注册</text></view></block></view></form></view></block></block></block><block wx:if="{{current_opt_form=='auth'&&(user||null)==null}}"><view class="margin-top-xxxl tc"><view class="cr-base">确认登录授权，为您提供更优质的服务</view><view class="margin-top-sm cr-gray"><view data-event-opts="{{[['tap',[['agreement_change',['$event']]]]]}}" class="dis-inline-block va-m" bindtap="__e"><radio-group style="transform:scale(0.6);"><label><radio value="agreement" color="#20a53a" checked="{{agreement_status}}"></radio></label></radio-group></view><view class="dis-inline-block va-m">阅读并同意 《<text class="cr-main" data-value="userregister" data-event-opts="{{[['tap',[['agreement_event',['$event']]]]]}}" bindtap="__e">服务协议</text>》 与 《<text class="cr-main" data-value="userprivacy" data-event-opts="{{[['tap',[['agreement_event',['$event']]]]]}}" bindtap="__e">隐私政策</text>》</view></view><view class="margin-top-xxl"><navigator class="dis-inline-block margin-right-lg" open-type="navigateBack" hover-class="none"><button class="bg-yellow br-yellow cr-white round" type="default" size="mini" hover-class="none">取消</button></navigator><button class="margin-left-lg bg-green br-green cr-white round" type="default" size="mini" data-event-opts="{{[['tap',[['get_user_info_event',['$event']]]]]}}" bindtap="__e">使用授权自动登录</button></view><view class="margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main"><block wx:if="{{(home_user_login_type||null)!=null&&home_user_login_type.length>0}}"><view class="margin-bottom-xxxl tc"><text class="cr-main round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="login" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">已有账号？立即登录</text></view></block><block wx:if="{{(home_user_reg_type||null)!=null&&home_user_reg_type.length>0}}"><view class="margin-bottom-xl tc"><text class="cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main" data-value="reg" data-event-opts="{{[['tap',[['opt_form_event',['$event']]]]]}}" bindtap="__e">还没账号？注册账号</text></view></block></view></view></block><component-popup vue-id="35a7246c-1" propShow="{{popup_image_verify_status}}" propPosition="bottom" data-event-opts="{{[['^onclose',[['popup_image_verify_close_event']]]]}}" bind:onclose="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="bg-white padding-horizontal-main padding-top-main"><view class="fr oh"><view data-event-opts="{{[['tap',[['popup_image_verify_close_event',['$event']]]]]}}" class="fr" catchtap="__e"><icon type="clear" size="20"></icon></view></view><view class="form-content margin-top-xxxl padding-top-xxl"><view class="verify pr margin-vertical-main"><input type="text" placeholder="验证码" name="verify" maxlength="4" data-event-opts="{{[['input',[['form_input_image_verify_event',['$event']]]]]}}" value="{{form_input_image_verify_value}}" bindinput="__e"/><block wx:if="{{(verify_image_url||null)!=null}}"><image class="verify-image pa" src="{{verify_image_url}}" mode="aspectFit" data-type="{{'user_'+current_opt_form}}" data-event-opts="{{[['tap',[['image_verify_event',['$event']]]]]}}" bindtap="__e"></image></block></view><view class="margin-top-xxxl margin-bottom-xxxl"><button class="bg-main br-main cr-white round text-size" type="default" hover-class="none" disabled="{{verify_disabled}}" data-event-opts="{{[['tap',[['popup_image_verify_submit_event',['$event']]]]]}}" bindtap="__e">确认</button></view></view></view></component-popup></block></block><block wx:else><view class="margin-top-xxxl padding-top-xxxl tc"><text class="cr-red">基础数据有误、请点击刷新！</text><view class="margin-top-xl"><button class="br-main cr-white bg-main dis-inline-block padding-left-xxxl padding-right-xxxl padding-top-sm padding-bottom-sm round" type="default" size="mini" data-event-opts="{{[['tap',[['cache_refresh_event',['$event']]]]]}}" bindtap="__e">刷新基础数据</button></view></view></block></view></view>