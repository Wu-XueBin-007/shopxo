(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods-comment/goods-comment"],{"1a96":function(t,a,e){"use strict";(function(t){e("7abb");o(e("66fd"));var a=o(e("a96d"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(a.default)}).call(this,e("543d")["createPage"])},2783:function(t,a,e){"use strict";e.d(a,"b",(function(){return s})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){return o}));var o={uniRate:function(){return e.e("uni_modules/uni-rate/components/uni-rate/uni-rate").then(e.bind(null,"8f4d"))}},s=function(){var t=this,a=t.$createElement;t._self._c},n=[]},"52f0":function(t,a,e){"use strict";e.r(a);var o=e("ec8a"),s=e.n(o);for(var n in o)"default"!==n&&function(t){e.d(a,t,(function(){return o[t]}))}(n);a["default"]=s.a},a96d:function(t,a,e){"use strict";e.r(a);var o=e("2783"),s=e("52f0");for(var n in s)"default"!==n&&function(t){e.d(a,t,(function(){return s[t]}))}(n);e("c0b3");var i,d=e("f0c5"),l=Object(d["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);a["default"]=l.exports},c0b3:function(t,a,e){"use strict";var o=e("e366"),s=e.n(o);s.a},e366:function(t,a,e){},ec8a:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=getApp(),s=function(){e.e("components/no-data/no-data").then(function(){return resolve(e("126b"))}.bind(null,e)).catch(e.oe)},n=function(){e.e("components/bottom-line/bottom-line").then(function(){return resolve(e("e5fd"))}.bind(null,e)).catch(e.oe)},i=o.globalData.get_static_url("home"),d={data:function(){return{static_url:i,data_list_loding_status:1,data_bottom_line_status:!1,data_list:[],data_page_total:0,data_page:1,goods_score:null,params:null,progress_class:["progress-bar-danger","progress-bar-warning","progress-bar-secondary","","progress-bar-success"]}},components:{componentNoData:s,componentBottomLine:n},props:{},onLoad:function(t){this.setData({params:t})},onShow:function(){this.init(),o.globalData.show_share_menu()},onPullDownRefresh:function(){this.setData({data_page:1}),this.get_data_list(1)},methods:{init:function(){this.get_goods_score(),this.get_data_list()},get_goods_score:function(){var a=this;t.request({url:o.globalData.get_request_url("goodsscore","goods"),method:"POST",data:{goods_id:this.params.goods_id},dataType:"json",success:function(t){0==t.data.code?a.setData({goods_score:t.data.data||null}):-400!=t.data.code&&o.globalData.showToast(t.data.msg)},fail:function(){o.globalData.showToast("服务器请求出错")}})},get_data_list:function(a){var e=this;if(null==(this.params.goods_id||null))t.stopPullDownRefresh(),this.setData({data_bottom_line_status:!1,data_list_loding_status:2});else{if(0==(a||0)&&1==this.data_bottom_line_status)return t.stopPullDownRefresh(),!1;t.showLoading({title:"加载中..."}),this.setData({data_list_loding_status:1}),t.request({url:o.globalData.get_request_url("comments","goods"),method:"POST",data:{goods_id:this.params.goods_id,page:this.data_page},dataType:"json",success:function(a){if(t.hideLoading(),t.stopPullDownRefresh(),0==a.data.code)if(a.data.data.data.length>0){if(e.data_page<=1)var s=a.data.data.data;else{s=e.data_list||[];var n=a.data.data.data;for(var i in n)s.push(n[i])}e.setData({data_list:s,data_total:a.data.data.total,data_page_total:a.data.data.page_total,data_list_loding_status:3,data_page:e.data_page+1}),e.setData({data_bottom_line_status:e.data_page>1&&e.data_page>e.data_page_total})}else e.setData({data_list_loding_status:0}),e.data_page<=1&&e.setData({data_list:[],data_bottom_line_status:!1});else e.setData({data_list_loding_status:0}),o.globalData.is_login_check(a.data,e,"get_data_list")&&o.globalData.showToast(a.data.msg)},fail:function(){t.hideLoading(),t.stopPullDownRefresh(),e.setData({data_list_loding_status:2}),o.globalData.showToast("服务器请求出错")}})}},scroll_lower:function(t){this.get_data_list()},comment_images_show_event:function(a){var e=a.currentTarget.dataset.index,o=a.currentTarget.dataset.ix;t.previewImage({current:this.data_list[e]["images"][o],urls:this.data_list[e]["images"]})}}};a.default=d}).call(this,e("543d")["default"])}},[["1a96","common/runtime","common/vendor"]]]);