(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plugins/signin/index-detail/index-detail"],{"1fc8":function(a,t,n){"use strict";var e;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return e}));var i=function(){var a=this,t=a.$createElement;a._self._c},s=[]},"2c25":function(a,t,n){"use strict";(function(a){n("7abb");e(n("66fd"));var t=e(n("3731"));function e(a){return a&&a.__esModule?a:{default:a}}wx.__webpack_require_UNI_MP_PLUGIN__=n,a(t.default)}).call(this,n("543d")["createPage"])},3731:function(a,t,n){"use strict";n.r(t);var e=n("1fc8"),i=n("64b1");for(var s in i)"default"!==s&&function(a){n.d(t,a,(function(){return i[a]}))}(s);n("a34b");var o,l=n("f0c5"),u=Object(l["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],o);t["default"]=u.exports},"64b1":function(a,t,n){"use strict";n.r(t);var e=n("95ae"),i=n.n(e);for(var s in e)"default"!==s&&function(a){n.d(t,a,(function(){return e[a]}))}(s);t["default"]=i.a},"95ae":function(a,t,n){"use strict";(function(a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=getApp(),i=function(){n.e("components/no-data/no-data").then(function(){return resolve(n("126b"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/bottom-line/bottom-line").then(function(){return resolve(n("e5fd"))}.bind(null,n)).catch(n.oe)},o=e.globalData.get_static_url("signin",!0),l={data:function(){return{static_url:o,data_bottom_line_status:!1,data_list_loding_status:1,data_list_loding_msg:"",currency_symbol:e.globalData.data.currency_symbol,params:null,user:null,data_base:null,data:null,team_signin_data:null,user_signin_data:null,is_already_coming:0,is_success_tips:0,coming_integral:0,share_info:{}}},components:{componentNoData:i,componentBottomLine:s},props:{},onLoad:function(a){this.setData({params:a,user:e.globalData.get_user_cache_info()})},onShow:function(){this.get_data()},onPullDownRefresh:function(){this.get_data()},methods:{get_data:function(){var t=this;a.request({url:e.globalData.get_request_url("detail","index","signin"),method:"POST",data:{id:this.params.id||0},dataType:"json",success:function(n){if(a.stopPullDownRefresh(),0==n.data.code){var i=n.data.data;t.setData({data_base:i.base||null,data:i.data||null,team_signin_data:i.team_signin_data||null,user_signin_data:i.user_signin_data||null,is_already_coming:null!=(i.user_signin_data||null)&&(i.user_signin_data.integral||0)>0?1:0,data_list_loding_msg:"",data_list_loding_status:0,data_bottom_line_status:!0}),null!=(t.data||null)&&t.setData({share_info:{title:t.data.seo_title||"签到",desc:t.data.seo_desc,path:"/pages/plugins/signin/index-detail/index-detail",query:"id="+t.data.id,img:t.data.right_images}})}else t.setData({data_bottom_line_status:!1,data_list_loding_status:2,data_list_loding_msg:n.data.msg});e.globalData.show_share_menu()},fail:function(){a.stopPullDownRefresh(),t.setData({data_bottom_line_status:!1,data_list_loding_status:2,data_list_loding_msg:"服务器请求出错"}),e.globalData.showToast("服务器请求出错")}})},init:function(){var t=e.globalData.get_user_info(this,"init");if(0!=t){if(!e.globalData.user_is_need_login(t))return!0;a.showModal({title:"温馨提示",content:"绑定手机号码",confirmText:"确认",cancelText:"暂不",success:function(t){a.stopPullDownRefresh(),t.confirm&&a.navigateTo({url:"/pages/login/login?event_callback=init"})}})}return!1},coming_event:function(t){var n=this;1!=this.is_already_coming&&this.init()&&(a.showLoading({title:"处理中..."}),a.request({url:e.globalData.get_request_url("coming","index","signin"),method:"POST",data:{id:this.data.id},dataType:"json",success:function(t){a.hideLoading(),0==t.data.code?(n.setData({is_already_coming:1,is_success_tips:1,coming_integral:t.data.data}),n.get_data()):e.globalData.is_login_check(t.data,n,"team_request")&&e.globalData.showToast(t.data.msg)},fail:function(){a.hideLoading(),e.globalData.showToast("服务器请求出错")}}))},coming_success_close_event:function(a){this.setData({is_success_tips:0})},team_event:function(t){var n=this;this.init()&&(a.showLoading({title:"处理中..."}),a.request({url:e.globalData.get_request_url("team","userqrcode","signin"),method:"POST",data:{},dataType:"json",success:function(t){if(a.hideLoading(),0==t.data.code)switch(t.data.data.status){case 0:var i=n.params;i["id"]=t.data.data.qrcode_id,n.setData({params:i}),n.get_data();break;case 1:a.navigateTo({url:"/pages/plugins/signin/user-qrcode-saveinfo/user-qrcode-saveinfo?id="+t.data.data.qrcode_id+"&is_team=1"});break}else e.globalData.is_login_check(t.data,n,"team_request")&&e.globalData.showToast(t.data.msg)},fail:function(){a.hideLoading(),e.globalData.showToast("服务器请求出错")}}))},right_images_event:function(t){null!=(this.data.right_images_url||null)&&a.navigateTo({url:this.data.right_images_url})}}};t.default=l}).call(this,n("543d")["default"])},a34b:function(a,t,n){"use strict";var e=n("f844"),i=n.n(e);i.a},f844:function(a,t,n){}},[["2c25","common/runtime","common/vendor"]]]);