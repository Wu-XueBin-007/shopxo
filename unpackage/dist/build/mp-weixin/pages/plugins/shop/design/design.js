(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plugins/shop/design/design"],{"54f1":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=getApp(),n=function(){e.e("components/layout/layout").then(function(){return resolve(e("b489"))}.bind(null,e)).catch(e.oe)},s=function(){e.e("components/no-data/no-data").then(function(){return resolve(e("126b"))}.bind(null,e)).catch(e.oe)},l=function(){e.e("components/bottom-line/bottom-line").then(function(){return resolve(e("e5fd"))}.bind(null,e)).catch(e.oe)},u=o.globalData.get_static_url("common"),i={data:function(){return{common_static_url:u,data_bottom_line_status:!1,data_list_loding_status:1,data_list_loding_msg:"",params:null,user:null,data_base:null,shop:null,shop_favor_user:[],shop_navigation:[],shop_goods_category:[],data:null,layout_data:[],search_keywords_value:"",header_service_status:!1,nav_category_status:!1,shop_category_tab_value:0,shop_favor_info:{text:"收藏",status:0,count:0},share_info:{}}},components:{componentLayout:n,componentNoData:s,componentBottomLine:l},props:{},onLoad:function(t){this.setData({params:t,user:o.globalData.get_user_cache_info()})},onShow:function(){this.get_data()},onPullDownRefresh:function(){this.get_data()},methods:{get_data:function(){var a=this;t.request({url:o.globalData.get_request_url("index","design","shop"),method:"POST",data:{id:this.params.id||0},dataType:"json",success:function(e){if(t.stopPullDownRefresh(),0==e.data.code){var n=e.data.data;if(a.setData({data_base:n.base||null,shop:null==(n.shop||null)||n.shop.length<=0?null:n.shop,shop_favor_user:n.shop_favor_user||[],shop_navigation:n.shop_navigation||[],shop_goods_category:n.shop_goods_category||[],data:null!=(n.data||null)&&0!=n.data.length?n.data:null,layout_data:n.layout_data||[],data_list_loding_msg:"",data_list_loding_status:0,data_bottom_line_status:!0}),null!=(a.shop||null)){var s=-1!=a.shop_favor_user.indexOf(a.shop.id)?1:0;a.setData({shop_favor_info:{count:a.shop.shop_favor_count||0,status:s,text:(1==s?"已":"")+"收藏"}})}null!=(a.data||null)&&(a.setData({share_info:{title:a.data.seo_title||a.data.name,desc:a.data.seo_desc,path:"/pages/plugins/shop/design/design",query:"id="+a.data.id,img:a.data.logo}}),t.setNavigationBarTitle({title:a.data.name}))}else a.setData({data_bottom_line_status:!1,data_list_loding_status:2,data_list_loding_msg:e.data.msg});o.globalData.show_share_menu()},fail:function(){t.stopPullDownRefresh(),a.setData({data_bottom_line_status:!1,data_list_loding_status:2,data_list_loding_msg:"服务器请求出错"}),o.globalData.showToast("服务器请求出错")}})},shop_favor_event:function(a){var e=this,n=o.globalData.get_user_info(this,"shop_favor_event");if(0!=n){if(o.globalData.user_is_need_login(n))return t.navigateTo({url:"/pages/login/login?event_callback=shop_favor_event"}),!1;t.showLoading({title:"处理中..."}),t.request({url:o.globalData.get_request_url("favor","shopfavor","shop"),method:"POST",data:{id:this.shop.id},dataType:"json",success:function(a){t.hideLoading(),0==a.data.code?(e.setData({shop_favor_info:a.data.data}),o.globalData.showToast(a.data.msg,"success")):o.globalData.is_login_check(a.data,e,"shop_favor_event")&&o.globalData.showToast(a.data.msg)},fail:function(){t.hideLoading(),o.globalData.showToast("服务器请求出错")}})}},search_keywords_event:function(t){this.setData({search_keywords_value:t.detail.value||""})},search_button_event:function(a){var e=a.currentTarget.dataset.value||null;t.navigateTo({url:e+"keywords="+this.search_keywords_value||""})},header_service_event:function(t){this.setData({header_service_status:!this.header_service_status})},nav_shop_category_event:function(t){this.setData({nav_category_status:!this.nav_category_status})},shop_category_event:function(a){var e=a.currentTarget.dataset.value||null;t.navigateTo({url:"/pages/plugins/shop/search/search?shop_id="+this.shop.id+"&category_id="+e})},nav_event:function(t){o.globalData.url_event(t)},text_copy_event:function(t){o.globalData.text_copy_event(t)},tel_event:function(t){o.globalData.call_tel(t.currentTarget.dataset.value||null)},image_show_event:function(t){o.globalData.image_show_event(t)}}};a.default=i}).call(this,e("543d")["default"])},"5d6e":function(t,a,e){},"98dc":function(t,a,e){"use strict";var o;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return o}));var n=function(){var t=this,a=t.$createElement;t._self._c},s=[]},b395:function(t,a,e){"use strict";e.r(a);var o=e("98dc"),n=e("d697");for(var s in n)"default"!==s&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("b53c");var l,u=e("f0c5"),i=Object(u["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],l);a["default"]=i.exports},b53c:function(t,a,e){"use strict";var o=e("5d6e"),n=e.n(o);n.a},d697:function(t,a,e){"use strict";e.r(a);var o=e("54f1"),n=e.n(o);for(var s in o)"default"!==s&&function(t){e.d(a,t,(function(){return o[t]}))}(s);a["default"]=n.a},e3e1:function(t,a,e){"use strict";(function(t){e("7abb");o(e("66fd"));var a=o(e("b395"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(a.default)}).call(this,e("543d")["createPage"])}},[["e3e1","common/runtime","common/vendor"]]]);