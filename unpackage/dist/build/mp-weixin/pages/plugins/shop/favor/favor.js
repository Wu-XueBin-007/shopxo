(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plugins/shop/favor/favor"],{"4a5d":function(t,a,e){"use strict";e.r(a);var o=e("4df2"),n=e("9e70");for(var s in n)"default"!==s&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("ebbf");var i,l=e("f0c5"),d=Object(l["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);a["default"]=d.exports},"4df2":function(t,a,e){"use strict";var o;e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return o}));var n=function(){var t=this,a=t.$createElement;t._self._c},s=[]},"506a":function(t,a,e){"use strict";(function(t){e("7abb");o(e("66fd"));var a=o(e("4a5d"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(a.default)}).call(this,e("543d")["createPage"])},"65fc":function(t,a,e){},"9e70":function(t,a,e){"use strict";e.r(a);var o=e("e157"),n=e.n(o);for(var s in o)"default"!==s&&function(t){e.d(a,t,(function(){return o[t]}))}(s);a["default"]=n.a},e157:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=getApp(),n=function(){e.e("components/no-data/no-data").then(function(){return resolve(e("126b"))}.bind(null,e)).catch(e.oe)},s=function(){e.e("components/bottom-line/bottom-line").then(function(){return resolve(e("e5fd"))}.bind(null,e)).catch(e.oe)},i={data:function(){return{data_list:[],data_total:0,data_page_total:0,data_page:1,data_list_loding_status:1,data_bottom_line_status:!1}},components:{componentNoData:n,componentBottomLine:s},props:{},onShow:function(){this.init(),o.globalData.show_share_menu()},onPullDownRefresh:function(){this.setData({data_page:1}),this.get_data_list(1)},methods:{init:function(){var a=o.globalData.get_user_info(this,"init");if(0!=a){if(o.globalData.user_is_need_login(a))return t.redirectTo({url:"/pages/login/login?event_callback=init"}),!1;this.get_data_list()}else this.setData({data_list_loding_status:0,data_bottom_line_status:!1})},get_data_list:function(a){var e=this;if(0==(a||0)&&1==this.data_bottom_line_status)return t.stopPullDownRefresh(),!1;t.showLoading({title:"加载中..."}),this.setData({data_list_loding_status:1}),t.request({url:o.globalData.get_request_url("index","shopfavor","shop"),method:"POST",data:{page:this.data_page},dataType:"json",success:function(a){if(t.hideLoading(),t.stopPullDownRefresh(),0==a.data.code)if(a.data.data.data.length>0){if(e.data_page<=1)var n=a.data.data.data;else{n=e.data_list||[];var s=a.data.data.data;for(var i in s)n.push(s[i])}e.setData({data_list:n,data_total:a.data.data.total,data_page_total:a.data.data.page_total,data_list_loding_status:3,data_page:e.data_page+1}),e.setData({data_bottom_line_status:e.data_page>1&&e.data_page>e.data_page_total})}else e.setData({data_list_loding_status:0});else e.setData({data_list_loding_status:0}),o.globalData.is_login_check(a.data,e,"get_data_list")&&o.globalData.showToast(a.data.msg)},fail:function(){t.hideLoading(),t.stopPullDownRefresh(),e.setData({data_list_loding_status:2}),o.globalData.showToast("服务器请求出错")}})},scroll_lower:function(t){this.get_data_list()},cancel_event:function(a){var e=this;t.showModal({title:"温馨提示",content:"取消后不可恢复，确定继续吗?",confirmText:"确认",cancelText:"不了",success:function(n){if(n.confirm){var s=a.currentTarget.dataset.value,i=a.currentTarget.dataset.index;t.showLoading({title:"处理中..."}),t.request({url:o.globalData.get_request_url("delete","shopfavor","shop"),method:"POST",data:{ids:s},dataType:"json",success:function(a){if(t.hideLoading(),0==a.data.code){var n=e.data_list;n.splice(i,1),e.setData({data_list:n}),0==n.length&&e.setData({data_list_loding_status:0,data_bottom_line_status:!1}),o.globalData.showToast(a.data.msg,"success")}else o.globalData.is_login_check(a.data)?o.globalData.showToast(a.data.msg):o.globalData.showToast("提交失败，请重试！")},fail:function(){t.hideLoading(),o.globalData.showToast("服务器请求出错")}})}}})}}};a.default=i}).call(this,e("543d")["default"])},ebbf:function(t,a,e){"use strict";var o=e("65fc"),n=e.n(o);n.a}},[["506a","common/runtime","common/vendor"]]]);