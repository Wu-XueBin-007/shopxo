(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plugins/distribution/extraction-switch/extraction-switch","components/bottom-line/bottom-line","components/no-data/no-data"],{"01a1":function(t,a,e){},"0b88":function(t,a,e){"use strict";var n=e("a0eb"),o=e.n(n);o.a},"126b":function(t,a,e){"use strict";e.r(a);var n=e("e1ba"),o=e("9e4e");for(var i in o)"default"!==i&&function(t){e.d(a,t,(function(){return o[t]}))}(i);e("ee1a");var s,l=e("f0c5"),r=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);a["default"]=r.exports},"36c9":function(t,a,e){"use strict";var n;e.d(a,"b",(function(){return o})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return n}));var o=function(){var t=this,a=t.$createElement;t._self._c},i=[]},"4c11":function(t,a,e){"use strict";e.r(a);var n=e("36c9"),o=e("6444");for(var i in o)"default"!==i&&function(t){e.d(a,t,(function(){return o[t]}))}(i);e("c039");var s,l=e("f0c5"),r=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);a["default"]=r.exports},"4da2":function(t,a,e){"use strict";var n;e.d(a,"b",(function(){return o})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return n}));var o=function(){var t=this,a=t.$createElement;t._self._c},i=[]},6444:function(t,a,e){"use strict";e.r(a);var n=e("aa8d"),o=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);a["default"]=o.a},"9e4e":function(t,a,e){"use strict";e.r(a);var n=e("c0be"),o=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);a["default"]=o.a},a0eb:function(t,a,e){},a6d8:function(t,a,e){"use strict";e.r(a);var n=e("fe03"),o=e.n(n);for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);a["default"]=o.a},aa8d:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;n(e("126b")),n(e("e5fd"));function n(t){return t&&t.__esModule?t:{default:t}}var o=getApp(),i=o.globalData.get_static_url("common"),s={data:function(){return{common_static_url:i,data_list_loding_status:1,data_bottom_line_status:!1,data_list:[],params:null,user_location_cache_key:o.globalData.data.cache_userlocation_key,user_location:null,is_first:1,home_extraction_address_position:0}},components:{},props:{},onLoad:function(t){this.setData({params:t,home_extraction_address_position:o.globalData.get_config("config.home_extraction_address_position",0)})},onReady:function(){t.removeStorage({key:this.user_location_cache_key}),1==this.home_extraction_address_position&&t.navigateTo({url:"/pages/common/open-setting-location/open-setting-location"})},onShow:function(){1==this.home_extraction_address_position?0==this.is_first&&(this.user_location_init(),this.init()):this.init(),this.setData({is_first:0}),o.globalData.show_share_menu()},onPullDownRefresh:function(){this.get_data_list()},methods:{init:function(){var a=o.globalData.get_user_info(this,"init");if(0!=a){if(o.globalData.user_is_need_login(a))return t.redirectTo({url:"/pages/login/login?event_callback=init"}),!1;this.get_data_list()}else this.setData({data_list_loding_status:0,data_bottom_line_status:!1})},user_location_init:function(){var a=t.getStorageSync(this.user_location_cache_key)||null,e=null;null!=a&&(e={name:a.name||null,address:a.address||null,lat:a.latitude||null,lng:a.longitude||null}),this.setData({user_location:e})},get_data_list:function(){var a=this;t.showLoading({title:"加载中..."}),this.setData({data_list_loding_status:1});var e={};null!=(this.user_location||null)&&(e["lng"]=this.user_location.lng,e["lat"]=this.user_location.lat),t.request({url:o.globalData.get_request_url("switchinfo","extraction","distribution"),method:"POST",data:e,dataType:"json",success:function(e){if(t.hideLoading(),t.stopPullDownRefresh(),0==e.data.code){var n=e.data.data;n.extraction_address.length>0?a.setData({data_list:n.extraction_address,data_list_loding_status:3,data_bottom_line_status:!0}):a.setData({data_list_loding_status:0})}else a.setData({data_list_loding_status:0}),o.globalData.is_login_check(e.data,a,"get_data_list")&&o.globalData.showToast(e.data.msg)},fail:function(){t.hideLoading(),t.stopPullDownRefresh(),a.setData({data_list_loding_status:2}),o.globalData.showToast("服务器请求出错")}})},address_map_event:function(t){var a=t.currentTarget.dataset.index||0,e=this.data_list[a]||null;if(null==e)return o.globalData.showToast("地址有误"),!1;var n=e.alias||e.name||"",i=(e.province_name||"")+(e.city_name||"")+(e.county_name||"")+(e.address||"");o.globalData.open_location(e.lng,e.lat,n,i)},address_conent_event:function(a){var e=a.currentTarget.dataset.index||0,n=this.params.is_back||0;1==n&&(t.setStorage({key:o.globalData.data.cache_buy_user_address_select_key,data:this.data_list[e]}),t.navigateBack())},address_switch_event:function(a){var e=this,n=a.currentTarget.dataset.index||0,i=this.data_list;if(null==(i[n]||null))return o.globalData.showToast("数据有误"),!1;t.showLoading({title:"处理中..."}),t.request({url:o.globalData.get_request_url("switchsave","extraction","distribution"),method:"POST",data:{id:i[n]["id"],value:i[n]["id_old"]||0},dataType:"json",success:function(a){if(t.hideLoading(),0==a.data.code){o.globalData.showToast(a.data.msg,"success");var i=e.data_list;for(var s in i)i[s]["is_default"]=s==n?1:0;e.setData({data_list:i})}else o.globalData.is_login_check(a.data)?o.globalData.showToast(a.data.msg):o.globalData.showToast("提交失败，请重试！")},fail:function(){t.hideLoading(),o.globalData.showToast("服务器请求出错")}})}}};a.default=s}).call(this,e("543d")["default"])},c039:function(t,a,e){"use strict";var n=e("01a1"),o=e.n(n);o.a},c0be:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;getApp();var n={data:function(){return{static_dir:"/static/images/common/"}},components:{},props:{propStatus:Number,propMsg:String},methods:{}};a.default=n},e1ba:function(t,a,e){"use strict";var n;e.d(a,"b",(function(){return o})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return n}));var o=function(){var t=this,a=t.$createElement;t._self._c},i=[]},e1d1:function(t,a,e){},e5fd:function(t,a,e){"use strict";e.r(a);var n=e("4da2"),o=e("a6d8");for(var i in o)"default"!==i&&function(t){e.d(a,t,(function(){return o[t]}))}(i);e("0b88");var s,l=e("f0c5"),r=Object(l["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);a["default"]=r.exports},e821:function(t,a,e){"use strict";(function(t){e("7abb");n(e("66fd"));var a=n(e("4c11"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(a.default)}).call(this,e("543d")["createPage"])},ee1a:function(t,a,e){"use strict";var n=e("e1d1"),o=e.n(n);o.a},fe03:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{}},components:{},props:{propStatus:Boolean,propMsg:String},methods:{}};a.default=n}},[["e821","common/runtime","common/vendor"]]]);