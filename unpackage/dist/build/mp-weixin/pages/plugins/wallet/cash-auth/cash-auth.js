(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/plugins/wallet/cash-auth/cash-auth"],{"220f":function(t,a,e){"use strict";var s=e("5e1a"),i=e.n(s);i.a},"227e":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=getApp(),i=function(){e.e("components/no-data/no-data").then(function(){return resolve(e("126b"))}.bind(null,e)).catch(e.oe)},l={data:function(){return{params:null,data_list_loding_status:1,data_list_loding_msg:"",data_base:null,user_wallet:null,check_account_list:[],verify_submit_text:"获取验证码",verify_loading:!1,verify_disabled:!1,form_submit_loading:!1,verify_time_total:60,temp_clear_time:null,check_account_value:null,form_submit_disabled_status:!1,is_can_cash:0}},components:{componentNoData:i},props:{},onLoad:function(t){},onShow:function(){this.init(),s.globalData.show_share_menu()},methods:{init:function(){var a=s.globalData.get_user_info(this,"init");if(0!=a){if(s.globalData.user_is_need_login(a))return t.redirectTo({url:"/pages/login/login?event_callback=init"}),!1;this.get_data()}else this.setData({data_list_loding_status:0})},get_data:function(){var a=this;t.showLoading({title:"加载中..."}),this.setData({data_list_loding_status:1}),t.request({url:s.globalData.get_request_url("auth","cash","wallet"),method:"POST",data:{},dataType:"json",success:function(e){if(t.hideLoading(),a.setData({data_list_loding_status:0}),0==e.data.code){var i=e.data.data,l={data_base:i.base||null,user_wallet:i.user_wallet||null,check_account_list:i.check_account_list||[]};(null!=l.data_base&&null!=l.user_wallet&&(l.data_base.cash_minimum_amount||0)<=0||parseFloat(l.user_wallet.normal_money)>=parseFloat(l.data_base.cash_minimum_amount))&&(l["is_can_cash"]=1),a.setData(l)}else s.globalData.is_login_check(e.data,a,"get_data")&&s.globalData.showToast(e.data.msg)},fail:function(){t.hideLoading(),a.setData({data_list_loding_status:2}),s.globalData.showToast("服务器请求出错")}})},select_check_account_event:function(t){this.setData({check_account_value:t.detail.value||0})},verify_send_event:function(){var a=this,e=this;if(null==e.check_account_value)return s.globalData.showToast("请选择认证方式"),!1;t.showLoading({title:"发送中..."}),this.setData({verify_submit_text:"发送中",verify_loading:!0,verify_disabled:!0}),t.request({url:s.globalData.get_request_url("verifysend","cash","wallet"),method:"POST",data:{account_type:e.check_account_list[e.check_account_value]["field"]},dataType:"json",success:function(i){if(t.hideLoading(),0==i.data.code){a.setData({verify_loading:!1});var l=a.verify_time_total;a.temp_clear_time=setInterval((function(){l<=1?(clearInterval(e.temp_clear_time),e.setData({verify_submit_text:"获取验证码",verify_disabled:!1})):(l--,e.setData({verify_submit_text:"剩余 "+l+" 秒"}))}),1e3)}else a.setData({verify_submit_text:"获取验证码",verify_loading:!1,verify_disabled:!1}),s.globalData.showToast(i.data.msg)},fail:function(){t.hideLoading(),a.setData({verify_submit_text:"获取验证码",verify_loading:!1,verify_disabled:!1}),s.globalData.showToast("服务器请求出错")}})},form_submit:function(a){var e=this,i=a.detail.value,l=[{fields:"account_type",msg:"请选择认证方式",is_can_zero:1},{fields:"verify",msg:"请输入验证码"}];s.globalData.fields_check(i,l)&&(i["account_type"]=this.check_account_list[this.check_account_value]["field"],this.setData({form_submit_disabled_status:!0}),t.showLoading({title:"处理中..."}),t.request({url:s.globalData.get_request_url("verifycheck","cash","wallet"),method:"POST",data:i,dataType:"json",success:function(a){t.hideLoading(),e.setData({form_submit_disabled_status:!1}),0==a.data.code?t.redirectTo({url:"/pages/plugins/wallet/cash-create/cash-create"}):s.globalData.is_login_check(a.data)?s.globalData.showToast(a.data.msg):s.globalData.showToast("提交失败，请重试！")},fail:function(){e.setData({form_submit_disabled_status:!1}),t.hideLoading(),s.globalData.showToast("服务器请求出错")}}))}}};a.default=l}).call(this,e("543d")["default"])},"5e1a":function(t,a,e){},8528:function(t,a,e){"use strict";e.r(a);var s=e("227e"),i=e.n(s);for(var l in s)"default"!==l&&function(t){e.d(a,t,(function(){return s[t]}))}(l);a["default"]=i.a},8596:function(t,a,e){"use strict";e.r(a);var s=e("9750"),i=e("8528");for(var l in i)"default"!==l&&function(t){e.d(a,t,(function(){return i[t]}))}(l);e("220f");var n,o=e("f0c5"),u=Object(o["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],n);a["default"]=u.exports},9750:function(t,a,e){"use strict";var s;e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return l})),e.d(a,"a",(function(){return s}));var i=function(){var t=this,a=t.$createElement;t._self._c},l=[]},d319:function(t,a,e){"use strict";(function(t){e("7abb");s(e("66fd"));var a=s(e("8596"));function s(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(a.default)}).call(this,e("543d")["createPage"])}},[["d319","common/runtime","common/vendor"]]]);